import{m as e,h as t,i as n,P as r,g as o,q as a,s as l,b6 as i,b7 as s,b8 as u,r as d,aZ as c,b1 as f,B as h,d as p,C as v,z as g,b9 as b,aQ as y,ba as m,bb as w,av as $,D as x,aP as k,y as S,bc as M,bd as A,Q as N,be as B,j as E,bf as z,t as C,bg as O,bh as j,bi as T,bj as _,bk as P,bl as L,bm as R,bn as I,bo as F,k as K,bp as D,bq as W,br as X,bs as Y,bt as G,bu as H,bv as V,bw as U,aa as q,a8 as Q,ap as Z,ae as J,a9 as ee,bx as te,A as ne,U as re,n as oe,ah as ae,ai as le,by as ie,aR as se,v as ue,aT as de,ar as ce,bz as fe,F as he,aj as pe,aL as ve,bA as ge,bB as be,H as ye,aN as me,L as we,au as $e}from"./index.dd3a459e.js";import{b as xe}from"./next-frame-once.e5ee25e8.js";function ke(e,t){let{target:n}=e;for(;n;){if(n.dataset&&void 0!==n.dataset[t])return!0;n=n.parentElement}return!1}function Se(e){return t=>{e.value=t?t.$el:null}}const Me=/^(\d|\.)+$/,Ae=/(\d|\.)+/;function Ne(e,{c:t=1,offset:n=0,attachPx:r=!0}={}){if("number"==typeof e){const r=(e+n)*t;return 0===r?"0":`${r}px`}if("string"==typeof e){if(Me.test(e)){const o=(Number(e)+n)*t;return r?0===o?"0":`${o}px`:`${o}`}{const r=Ae.exec(e);return r?e.replace(Ae,String((Number(r[0])+n)*t)):e}}return e}let Be,Ee,ze;var Ce,Oe;function je(e,t){return r(e,(e=>{void 0!==e&&(t.value=e)})),o((()=>void 0===e.value?t.value:e.value))}function Te(e,t){return o((()=>{for(const n of t)if(void 0!==e[n])return e[n];return e[t[t.length-1]]}))}Ee=n?null===(Oe=null===(Ce=document)||void 0===Ce?void 0:Ce.fonts)||void 0===Oe?void 0:Oe.ready:void 0,ze=!1,void 0!==Ee?Ee.then((()=>{ze=!0})):ze=!0;const _e=a("n-internal-select-menu"),Pe=a("n-internal-select-menu-body");function Le(n){const r=l(i,null),o=l(s,null),a=l(u,null),p=l(Pe,null),v=d();if("undefined"!=typeof document){v.value=document.fullscreenElement;const n=()=>{v.value=document.fullscreenElement};e((()=>{c("fullscreenchange",document,n)})),t((()=>{f("fullscreenchange",document,n)}))}return h((()=>{var e;const{to:t}=n;return void 0!==t?!1===t?"__disabled__":!0===t?v.value||"body":t:(null==r?void 0:r.value)?null!==(e=r.value.$el)&&void 0!==e?e:r.value:(null==o?void 0:o.value)?o.value:(null==a?void 0:a.value)?a.value:(null==p?void 0:p.value)?p.value:null!=t?t:v.value||"body"}))}Le.tdkey="__disabled__",Le.propTo={type:[String,Object,Boolean],default:void 0};let Re=null;function Ie(){if(null===Re&&(Re=document.getElementById("v-binder-view-measurer"),null===Re)){Re=document.createElement("div"),Re.id="v-binder-view-measurer";const{style:e}=Re;e.position="fixed",e.left="0",e.right="0",e.top="0",e.bottom="0",e.pointerEvents="none",e.visibility="hidden",document.body.appendChild(Re)}return Re.getBoundingClientRect()}function Fe(e){const t=e.getBoundingClientRect(),n=Ie();return{left:t.left-n.left,top:t.top-n.top,bottom:n.height+n.top-t.bottom,right:n.width+n.left-t.right,width:t.width,height:t.height}}function Ke(e){if(null===e)return null;const t=function(e){return 9===e.nodeType?null:e.parentNode}(e);if(null===t)return null;if(9===t.nodeType)return document;if(1===t.nodeType){const{overflow:e,overflowX:n,overflowY:r}=getComputedStyle(t);if(/(auto|scroll|overlay)/.test(e+r+n))return t}return Ke(t)}const De=p({name:"Binder",props:{syncTargetWithParent:Boolean,syncTarget:{type:Boolean,default:!0}},setup(e){var n;v("VBinder",null===(n=g())||void 0===n?void 0:n.proxy);const r=l("VBinder",null),o=d(null);let a=[];const i=()=>{for(const e of a)f("scroll",e,u,!0);a=[]},s=new Set,u=()=>{xe(h)},h=()=>{s.forEach((e=>e()))},p=new Set,b=()=>{p.forEach((e=>e()))};return t((()=>{f("resize",window,b),i()})),{targetRef:o,setTargetRef:t=>{o.value=t,r&&e.syncTargetWithParent&&r.setTargetRef(t)},addScrollListener:e=>{0===s.size&&(()=>{let e=o.value;for(;e=Ke(e),null!==e;)a.push(e);for(const t of a)c("scroll",t,u,!0)})(),s.has(e)||s.add(e)},removeScrollListener:e=>{s.has(e)&&s.delete(e),0===s.size&&i()},addResizeListener:e=>{0===p.size&&c("resize",window,b),p.has(e)||p.add(e)},removeResizeListener:e=>{p.has(e)&&p.delete(e),0===p.size&&f("resize",window,b)}}},render(){return b("binder",this.$slots)}});var We=De,Xe=p({name:"Target",setup(){const{setTargetRef:e,syncTarget:t}=l("VBinder");return{syncTarget:t,setTargetDirective:{mounted:e,updated:e}}},render(){const{syncTarget:e,setTargetDirective:t}=this;return e?y(m("follower",this.$slots),[[t]]):m("follower",this.$slots)}});const Ye="@@mmoContext";var Ge={mounted(e,{value:t}){e[Ye]={handler:void 0},"function"==typeof t&&(e[Ye].handler=t,c("mousemoveoutside",e,t))},updated(e,{value:t}){const n=e[Ye];"function"==typeof t?n.handler?n.handler!==t&&(f("mousemoveoutside",e,n.handler),n.handler=t,c("mousemoveoutside",e,t)):(e[Ye].handler=t,c("mousemoveoutside",e,t)):n.handler&&(f("mousemoveoutside",e,n.handler),n.handler=void 0)},unmounted(e){const{handler:t}=e[Ye];t&&f("mousemoveoutside",e,t),e[Ye].handler=void 0}};const{c:He}=w(),Ve="vueuc-style",Ue={top:"bottom",bottom:"top",left:"right",right:"left"},qe={start:"end",center:"center",end:"start"},Qe={top:"height",bottom:"height",left:"width",right:"width"},Ze={"bottom-start":"top left",bottom:"top center","bottom-end":"top right","top-start":"bottom left",top:"bottom center","top-end":"bottom right","right-start":"top left",right:"center left","right-end":"bottom left","left-start":"top right",left:"center right","left-end":"bottom right"},Je={"bottom-start":"bottom left",bottom:"bottom center","bottom-end":"bottom right","top-start":"top left",top:"top center","top-end":"top right","right-start":"top right",right:"center right","right-end":"bottom right","left-start":"top left",left:"center left","left-end":"bottom left"},et={"bottom-start":"right","bottom-end":"left","top-start":"right","top-end":"left","right-start":"bottom","right-end":"top","left-start":"bottom","left-end":"top"},tt={top:!0,bottom:!1,left:!0,right:!1},nt={top:"end",bottom:"start",left:"end",right:"start"};const rt=He([He(".v-binder-follower-container",{position:"absolute",left:"0",right:"0",top:"0",height:"0",pointerEvents:"none",zIndex:"auto"}),He(".v-binder-follower-content",{position:"absolute",zIndex:"auto"},[He("> *",{pointerEvents:"all"})])]);var ot=p({name:"Follower",inheritAttrs:!1,props:{show:Boolean,enabled:{type:Boolean,default:void 0},placement:{type:String,default:"bottom"},syncTrigger:{type:Array,default:["resize","scroll"]},to:[String,Object],flip:{type:Boolean,default:!0},internalShift:Boolean,x:Number,y:Number,width:String,minWidth:String,containerClass:String,teleportDisabled:Boolean,zindexable:{type:Boolean,default:!0},zIndex:Number,overlap:Boolean},setup(n){const o=l("VBinder"),a=h((()=>void 0!==n.enabled?n.enabled:n.show)),i=d(null),s=d(null),u=()=>{const{syncTrigger:e}=n;e.includes("scroll")&&o.addScrollListener(p),e.includes("resize")&&o.addResizeListener(p)},c=()=>{o.removeScrollListener(p),o.removeResizeListener(p)};e((()=>{a.value&&(p(),u())}));const f=$();rt.mount({id:"vueuc/binder",head:!0,anchorMetaName:"vueuc-style",ssr:f}),t((()=>{c()})),function(n){if(ze)return;let r=!1;e((()=>{ze||null==Ee||Ee.then((()=>{r||n()}))})),t((()=>{r=!0}))}((()=>{a.value&&p()}));const p=()=>{if(!a.value)return;const e=i.value;if(null===e)return;const t=o.targetRef,{x:r,y:l,overlap:u}=n,d=void 0!==r&&void 0!==l?function(e,t){const n=Ie();return{top:t,left:e,height:0,width:0,right:n.width-e,bottom:n.height-t}}(r,l):Fe(t);e.style.setProperty("--v-target-width",`${Math.round(d.width)}px`),e.style.setProperty("--v-target-height",`${Math.round(d.height)}px`);const{width:c,minWidth:f,placement:h,internalShift:p,flip:v}=n;e.setAttribute("v-placement",h),u?e.setAttribute("v-overlap",""):e.removeAttribute("v-overlap");const{style:g}=e;g.width="target"===c?`${d.width}px`:void 0!==c?c:"",g.minWidth="target"===f?`${d.width}px`:void 0!==f?f:"";const b=Fe(e),y=Fe(s.value),{left:m,top:w,placement:$}=function(e,t,n,r,o,a){if(!o||a)return{placement:e,top:0,left:0};const[l,i]=e.split("-");let s=null!=i?i:"center",u={top:0,left:0};const d=(e,o,a)=>{let l=0,i=0;const s=n[e]-t[o]-t[e];return s>0&&r&&(a?i=tt[o]?s:-s:l=tt[o]?s:-s),{left:l,top:i}},c="left"===l||"right"===l;if("center"!==s){const r=et[e],o=Ue[r],a=Qe[r];if(n[a]>t[a]){if(t[r]+t[a]<n[a]){const e=(n[a]-t[a])/2;t[r]<e||t[o]<e?t[r]<t[o]?(s=qe[i],u=d(a,o,c)):u=d(a,r,c):s="center"}}else n[a]<t[a]&&t[o]<0&&t[r]>t[o]&&(s=qe[i])}else{const e="bottom"===l||"top"===l?"left":"top",r=Ue[e],o=Qe[e],a=(n[o]-t[o])/2;(t[e]<a||t[r]<a)&&(t[e]>t[r]?(s=nt[e],u=d(o,e,c)):(s=nt[r],u=d(o,r,c)))}let f=l;return t[l]<n[Qe[l]]&&t[l]<t[Ue[l]]&&(f=Ue[l]),{placement:"center"!==s?`${f}-${s}`:f,left:u.left,top:u.top}}(h,d,b,p,v,u),x=function(e,t){return t?Je[e]:Ze[e]}($,u),{left:k,top:S,transform:M}=function(e,t,n,r,o,a){if(a)switch(e){case"bottom-start":case"left-end":return{top:`${Math.round(n.top-t.top+n.height)}px`,left:`${Math.round(n.left-t.left)}px`,transform:"translateY(-100%)"};case"bottom-end":case"right-end":return{top:`${Math.round(n.top-t.top+n.height)}px`,left:`${Math.round(n.left-t.left+n.width)}px`,transform:"translateX(-100%) translateY(-100%)"};case"top-start":case"left-start":return{top:`${Math.round(n.top-t.top)}px`,left:`${Math.round(n.left-t.left)}px`,transform:""};case"top-end":case"right-start":return{top:`${Math.round(n.top-t.top)}px`,left:`${Math.round(n.left-t.left+n.width)}px`,transform:"translateX(-100%)"};case"top":return{top:`${Math.round(n.top-t.top)}px`,left:`${Math.round(n.left-t.left+n.width/2)}px`,transform:"translateX(-50%)"};case"right":return{top:`${Math.round(n.top-t.top+n.height/2)}px`,left:`${Math.round(n.left-t.left+n.width)}px`,transform:"translateX(-100%) translateY(-50%)"};case"left":return{top:`${Math.round(n.top-t.top+n.height/2)}px`,left:`${Math.round(n.left-t.left)}px`,transform:"translateY(-50%)"};default:return{top:`${Math.round(n.top-t.top+n.height)}px`,left:`${Math.round(n.left-t.left+n.width/2)}px`,transform:"translateX(-50%) translateY(-100%)"}}switch(e){case"bottom-start":return{top:`${Math.round(n.top-t.top+n.height+r)}px`,left:`${Math.round(n.left-t.left+o)}px`,transform:""};case"bottom-end":return{top:`${Math.round(n.top-t.top+n.height+r)}px`,left:`${Math.round(n.left-t.left+n.width+o)}px`,transform:"translateX(-100%)"};case"top-start":return{top:`${Math.round(n.top-t.top+r)}px`,left:`${Math.round(n.left-t.left+o)}px`,transform:"translateY(-100%)"};case"top-end":return{top:`${Math.round(n.top-t.top+r)}px`,left:`${Math.round(n.left-t.left+n.width+o)}px`,transform:"translateX(-100%) translateY(-100%)"};case"right-start":return{top:`${Math.round(n.top-t.top+r)}px`,left:`${Math.round(n.left-t.left+n.width+o)}px`,transform:""};case"right-end":return{top:`${Math.round(n.top-t.top+n.height+r)}px`,left:`${Math.round(n.left-t.left+n.width+o)}px`,transform:"translateY(-100%)"};case"left-start":return{top:`${Math.round(n.top-t.top+r)}px`,left:`${Math.round(n.left-t.left+o)}px`,transform:"translateX(-100%)"};case"left-end":return{top:`${Math.round(n.top-t.top+n.height+r)}px`,left:`${Math.round(n.left-t.left+o)}px`,transform:"translateX(-100%) translateY(-100%)"};case"top":return{top:`${Math.round(n.top-t.top+r)}px`,left:`${Math.round(n.left-t.left+n.width/2+o)}px`,transform:"translateY(-100%) translateX(-50%)"};case"right":return{top:`${Math.round(n.top-t.top+n.height/2+r)}px`,left:`${Math.round(n.left-t.left+n.width+o)}px`,transform:"translateY(-50%)"};case"left":return{top:`${Math.round(n.top-t.top+n.height/2+r)}px`,left:`${Math.round(n.left-t.left+o)}px`,transform:"translateY(-50%) translateX(-100%)"};default:return{top:`${Math.round(n.top-t.top+n.height+r)}px`,left:`${Math.round(n.left-t.left+n.width/2+o)}px`,transform:"translateX(-50%)"}}}($,y,d,w,m,u);e.setAttribute("v-placement",$),e.style.setProperty("--v-offset-left",`${Math.round(m)}px`),e.style.setProperty("--v-offset-top",`${Math.round(w)}px`),e.style.transform=`translateX(${k}) translateY(${S}) ${M}`,e.style.setProperty("--v-transform-origin",x),e.style.transformOrigin=x};r(a,(e=>{e?(u(),v()):c()}));const v=()=>{N().then(p).catch((e=>{}))};["placement","x","y","internalShift","flip","width","overlap","minWidth"].forEach((e=>{r(x(n,e),p)})),["teleportDisabled"].forEach((e=>{r(x(n,e),v)})),r(x(n,"syncTrigger"),(e=>{e.includes("resize")?o.addResizeListener(p):o.removeResizeListener(p),e.includes("scroll")?o.addScrollListener(p):o.removeScrollListener(p)}));const g=k(),b=h((()=>{const{to:e}=n;if(void 0!==e)return e;g.value}));return{VBinder:o,mergedEnabled:a,offsetContainerRef:s,followerRef:i,mergedTo:b,syncPosition:p}},render(){return S(A,{show:this.show,to:this.mergedTo,disabled:this.teleportDisabled},{default:()=>{var e,t;const n=S("div",{class:["v-binder-follower-container",this.containerClass],ref:"offsetContainerRef"},[S("div",{class:"v-binder-follower-content",ref:"followerRef"},null===(t=(e=this.$slots).default)||void 0===t?void 0:t.call(e))]);return this.zindexable?y(n,[[M,{enabled:this.mergedEnabled,zIndex:this.zIndex}]]):n}})}}),at=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,lt=/^\w*$/;function it(e,t){if(B(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!E(e))||(lt.test(e)||!at.test(e)||null!=t&&e in Object(t))}function st(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],a=n.cache;if(a.has(o))return a.get(o);var l=e.apply(this,r);return n.cache=a.set(o,l)||a,l};return n.cache=new(st.Cache||z),n}st.Cache=z;var ut,dt,ct,ft=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ht=/\\(\\)?/g,pt=(ut=function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ft,(function(e,n,r,o){t.push(r?o.replace(ht,"$1"):n||e)})),t},dt=st(ut,(function(e){return 500===ct.size&&ct.clear(),e})),ct=dt.cache,dt),vt=pt;function gt(e,t){return B(e)?e:it(e,t)?[e]:vt(C(e))}function bt(e){if("string"==typeof e||E(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}function yt(e,t){for(var n=0,r=(t=gt(t,e)).length;null!=e&&n<r;)e=e[bt(t[n++])];return n&&n==r?e:void 0}function mt(e,t,n){var r=null==e?void 0:yt(e,t);return void 0===r?n:r}function wt(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new z;++t<n;)this.add(e[t])}function $t(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function xt(e,t){return e.has(t)}wt.prototype.add=wt.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},wt.prototype.has=function(e){return this.__data__.has(e)};function kt(e,t,n,r,o,a){var l=1&n,i=e.length,s=t.length;if(i!=s&&!(l&&s>i))return!1;var u=a.get(e),d=a.get(t);if(u&&d)return u==t&&d==e;var c=-1,f=!0,h=2&n?new wt:void 0;for(a.set(e,t),a.set(t,e);++c<i;){var p=e[c],v=t[c];if(r)var g=l?r(v,p,c,t,e,a):r(p,v,c,e,t,a);if(void 0!==g){if(g)continue;f=!1;break}if(h){if(!$t(t,(function(e,t){if(!xt(h,t)&&(p===e||o(p,e,n,r,a)))return h.push(t)}))){f=!1;break}}else if(p!==v&&!o(p,v,n,r,a)){f=!1;break}}return a.delete(e),a.delete(t),f}function St(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function Mt(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var At=O?O.prototype:void 0,Nt=At?At.valueOf:void 0;var Bt=Object.prototype.hasOwnProperty;var Et="[object Object]",zt=Object.prototype.hasOwnProperty;function Ct(e,t,n,r,o,a){var l=B(e),i=B(t),s=l?"[object Array]":P(e),u=i?"[object Array]":P(t),d=(s="[object Arguments]"==s?Et:s)==Et,c=(u="[object Arguments]"==u?Et:u)==Et,f=s==u;if(f&&L(e)){if(!L(t))return!1;l=!0,d=!1}if(f&&!d)return a||(a=new R),l||I(e)?kt(e,t,n,r,o,a):function(e,t,n,r,o,a,l){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new T(e),new T(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return j(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var i=St;case"[object Set]":var s=1&r;if(i||(i=Mt),e.size!=t.size&&!s)return!1;var u=l.get(e);if(u)return u==t;r|=2,l.set(e,t);var d=kt(i(e),i(t),r,o,a,l);return l.delete(e),d;case"[object Symbol]":if(Nt)return Nt.call(e)==Nt.call(t)}return!1}(e,t,s,n,r,o,a);if(!(1&n)){var h=d&&zt.call(e,"__wrapped__"),p=c&&zt.call(t,"__wrapped__");if(h||p){var v=h?e.value():e,g=p?t.value():t;return a||(a=new R),o(v,g,n,r,a)}}return!!f&&(a||(a=new R),function(e,t,n,r,o,a){var l=1&n,i=_(e),s=i.length;if(s!=_(t).length&&!l)return!1;for(var u=s;u--;){var d=i[u];if(!(l?d in t:Bt.call(t,d)))return!1}var c=a.get(e),f=a.get(t);if(c&&f)return c==t&&f==e;var h=!0;a.set(e,t),a.set(t,e);for(var p=l;++u<s;){var v=e[d=i[u]],g=t[d];if(r)var b=l?r(g,v,d,t,e,a):r(v,g,d,e,t,a);if(!(void 0===b?v===g||o(v,g,n,r,a):b)){h=!1;break}p||(p="constructor"==d)}if(h&&!p){var y=e.constructor,m=t.constructor;y==m||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof m&&m instanceof m||(h=!1)}return a.delete(e),a.delete(t),h}(e,t,n,r,o,a))}function Ot(e,t,n,r,o){return e===t||(null==e||null==t||!F(e)&&!F(t)?e!=e&&t!=t:Ct(e,t,n,r,Ot,o))}function jt(e){return e==e&&!K(e)}function Tt(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}function _t(e){var t=function(e){for(var t=D(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,jt(o)]}return t}(e);return 1==t.length&&t[0][2]?Tt(t[0][0],t[0][1]):function(n){return n===e||function(e,t,n,r){var o=n.length,a=o,l=!r;if(null==e)return!a;for(e=Object(e);o--;){var i=n[o];if(l&&i[2]?i[1]!==e[i[0]]:!(i[0]in e))return!1}for(;++o<a;){var s=(i=n[o])[0],u=e[s],d=i[1];if(l&&i[2]){if(void 0===u&&!(s in e))return!1}else{var c=new R;if(r)var f=r(u,d,s,e,t,c);if(!(void 0===f?Ot(d,u,3,r,c):f))return!1}}return!0}(n,e,t)}}function Pt(e,t){return null!=e&&t in Object(e)}function Lt(e,t){return null!=e&&function(e,t,n){for(var r=-1,o=(t=gt(t,e)).length,a=!1;++r<o;){var l=bt(t[r]);if(!(a=null!=e&&n(e,l)))break;e=e[l]}return a||++r!=o?a:!!(o=null==e?0:e.length)&&W(o)&&X(l,o)&&(B(e)||Y(e))}(e,t,Pt)}function Rt(e){return it(e)?(t=bt(e),function(e){return null==e?void 0:e[t]}):function(e){return function(t){return yt(t,e)}}(e);var t}function It(e){return"function"==typeof e?e:null==e?G:"object"==typeof e?B(e)?(t=e[0],n=e[1],it(t)&&jt(n)?Tt(bt(t),n):function(e){var r=mt(e,t);return void 0===r&&r===n?Lt(e,t):Ot(n,r,3)}):_t(e):Rt(e);var t,n}var Ft,Kt,Dt=(Ft=function(e,t){return e&&H(e,t,D)},function(e,t){if(null==e)return e;if(!V(e))return Ft(e,t);for(var n=e.length,r=Kt?n:-1,o=Object(e);(Kt?r--:++r<n)&&!1!==t(o[r],r,o););return e}),Wt=Dt;function Xt(e,t){var n=-1,r=V(e)?Array(e.length):[];return Wt(e,(function(e,o,a){r[++n]=t(e,o,a)})),r}function Yt(e){return Array.isArray(e)?e:[e]}const Gt="STOP";function Ht(e,t){const n=t(e);void 0!==e.children&&n!==Gt&&e.children.forEach((e=>Ht(e,t)))}function Vt(e){return e.children}function Ut(e){return e.key}function qt(){return!1}function Qt(e){return!0===e.disabled}function Zt(e){var t;return null==e?[]:Array.isArray(e)?e:null!==(t=e.checkedKeys)&&void 0!==t?t:[]}function Jt(e){var t;return null==e||Array.isArray(e)?[]:null!==(t=e.indeterminateKeys)&&void 0!==t?t:[]}function en(e,t){const n=new Set(e);return t.forEach((e=>{n.has(e)||n.add(e)})),Array.from(n)}function tn(e,t){const n=new Set(e);return t.forEach((e=>{n.has(e)&&n.delete(e)})),Array.from(n)}function nn(e){return"group"===(null==e?void 0:e.type)}function rn(e){const t=new Map;return e.forEach(((e,n)=>{t.set(e.key,n)})),e=>{var n;return null!==(n=t.get(e))&&void 0!==n?n:null}}class on extends Error{constructor(){super(),this.message="SubtreeNotLoadedError: checking a subtree whose required nodes are not fully loaded."}}function an(e,t,n,r){const o=sn(t,n,r,!1),a=sn(e,n,r,!0),l=function(e,t){const n=new Set;return e.forEach((e=>{const r=t.treeNodeMap.get(e);if(void 0!==r){let e=r.parent;for(;null!==e&&!e.disabled&&!n.has(e.key);)n.add(e.key),e=e.parent}})),n}(e,n),i=[];return o.forEach((e=>{(a.has(e)||l.has(e))&&i.push(e)})),i.forEach((e=>o.delete(e))),o}function ln(e,t){const{checkedKeys:n,keysToCheck:r,keysToUncheck:o,indeterminateKeys:a,cascade:l,leafOnly:i,checkStrategy:s,allowNotLoaded:u}=e;if(!l)return void 0!==r?{checkedKeys:en(n,r),indeterminateKeys:Array.from(a)}:void 0!==o?{checkedKeys:tn(n,o),indeterminateKeys:Array.from(a)}:{checkedKeys:Array.from(n),indeterminateKeys:Array.from(a)};const{levelTreeNodeMap:d}=t;let c;c=void 0!==o?an(o,n,t,u):void 0!==r?function(e,t,n,r){return sn(t.concat(e),n,r,!1)}(r,n,t,u):sn(n,t,u,!1);const f="parent"===s,h="child"===s||i,p=c,v=new Set;for(let g=Math.max.apply(null,Array.from(d.keys()));g>=0;g-=1){const e=0===g,t=d.get(g);for(const n of t){if(n.isLeaf)continue;const{key:t,shallowLoaded:r}=n;if(h&&r&&n.children.forEach((e=>{!e.disabled&&!e.isLeaf&&e.shallowLoaded&&p.has(e.key)&&p.delete(e.key)})),n.disabled||!r)continue;let o=!0,a=!1,l=!0;for(const e of n.children){const t=e.key;if(!e.disabled)if(l&&(l=!1),p.has(t))a=!0;else{if(v.has(t)){a=!0,o=!1;break}if(o=!1,a)break}}o&&!l?(f&&n.children.forEach((e=>{!e.disabled&&p.has(e.key)&&p.delete(e.key)})),p.add(t)):a&&v.add(t),e&&h&&p.has(t)&&p.delete(t)}}return{checkedKeys:Array.from(p),indeterminateKeys:Array.from(v)}}function sn(e,t,n,r){const{treeNodeMap:o,getChildren:a}=t,l=new Set,i=new Set(e);return e.forEach((e=>{const t=o.get(e);void 0!==t&&Ht(t,(e=>{if(e.disabled)return Gt;const{key:t}=e;if(!l.has(t)&&(l.add(t),i.add(t),function(e,t){return!1===e.isLeaf&&!Array.isArray(t(e))}(e.rawNode,a))){if(r)return Gt;if(!n)throw new on}}))})),i}function un(e,t){const n=e.siblings,r=n.length,{index:o}=e;return t?n[(o+1)%r]:o===n.length-1?null:n[o+1]}function dn(e,t,{loop:n=!1,includeDisabled:r=!1}={}){const o="prev"===t?cn:un,a={reverse:"prev"===t};let l=!1,i=null;return function t(s){if(null!==s){if(s===e)if(l){if(!e.disabled&&!e.isGroup)return void(i=e)}else l=!0;else if((!s.disabled||r)&&!s.ignored&&!s.isGroup)return void(i=s);if(s.isGroup){const e=fn(s,a);null!==e?i=e:t(o(s,n))}else{const e=o(s,!1);if(null!==e)t(e);else{const e=function(e){return e.parent}(s);(null==e?void 0:e.isGroup)?t(o(e,n)):n&&t(o(s,!0))}}}}(e),i}function cn(e,t){const n=e.siblings,r=n.length,{index:o}=e;return t?n[(o-1+r)%r]:0===o?null:n[o-1]}function fn(e,t={}){const{reverse:n=!1}=t,{children:r}=e;if(r){const{length:e}=r,o=n?-1:e,a=n?-1:1;for(let l=n?e-1:0;l!==o;l+=a){const e=r[l];if(!e.disabled&&!e.ignored){if(!e.isGroup)return e;{const n=fn(e,t);if(null!==n)return n}}}}return null}const hn={getChild(){return this.ignored?null:fn(this)},getParent(){const{parent:e}=this;return(null==e?void 0:e.isGroup)?e.getParent():e},getNext(e={}){return dn(this,"next",e)},getPrev(e={}){return dn(this,"prev",e)}};function pn(e,t,n,r,o,a=null,l=0){const i=[];return e.forEach(((s,u)=>{var d;const c=Object.create(r);if(c.rawNode=s,c.siblings=i,c.level=l,c.index=u,c.isFirstChild=0===u,c.isLastChild=u+1===e.length,c.parent=a,!c.ignored){const e=o(s);Array.isArray(e)&&(c.children=pn(e,t,n,r,o,c,l+1))}i.push(c),t.set(c.key,c),n.has(l)||n.set(l,[]),null===(d=n.get(l))||void 0===d||d.push(c)})),i}function vn(e,t={}){var n;const r=new Map,o=new Map,{getDisabled:a=Qt,getIgnored:l=qt,getIsGroup:i=nn,getKey:s=Ut}=t,u=null!==(n=t.getChildren)&&void 0!==n?n:Vt,d=t.ignoreEmptyChildren?e=>{const t=u(e);return Array.isArray(t)?t.length?t:null:t}:u,c=Object.assign({get key(){return s(this.rawNode)},get disabled(){return a(this.rawNode)},get isGroup(){return i(this.rawNode)},get isLeaf(){return function(e,t){const{isLeaf:n}=e;return void 0!==n?n:!t(e)}(this.rawNode,d)},get shallowLoaded(){return function(e,t){const{isLeaf:n}=e;return!(!1===n&&!Array.isArray(t(e)))}(this.rawNode,d)},get ignored(){return l(this.rawNode)},contains(e){return function(e,t){const n=e.key;for(;t;){if(t.key===n)return!0;t=t.parent}return!1}(this,e)}},hn),f=pn(e,r,o,c,d);function h(e){if(null==e)return null;const t=r.get(e);return t&&!t.ignored?t:null}const p={treeNodes:f,treeNodeMap:r,levelTreeNodeMap:o,maxLevel:Math.max(...o.keys()),getChildren:d,getFlattenedNodes:e=>function(e,t){const n=t?new Set(t):void 0,r=[];return function e(t){t.forEach((t=>{r.push(t),t.isLeaf||!t.children||t.ignored||(t.isGroup||void 0===n||n.has(t.key))&&e(t.children)}))}(e),r}(f,e),getNode:function(e){if(null==e)return null;const t=r.get(e);return!t||t.isGroup||t.ignored?null:t},getPrev:function(e,t){const n=h(e);return n?n.getPrev(t):null},getNext:function(e,t){const n=h(e);return n?n.getNext(t):null},getParent:function(e){const t=h(e);return t?t.getParent():null},getChild:function(e){const t=h(e);return t?t.getChild():null},getFirstAvailableNode:()=>function(e){if(0===e.length)return null;const t=e[0];return t.isGroup||t.ignored||t.disabled?t.getNext():t}(f),getPath:(e,t={})=>function(e,{includeGroup:t=!1,includeSelf:n=!0},r){var o;const a=r.treeNodeMap;let l=null==e?null:null!==(o=a.get(e))&&void 0!==o?o:null;const i={keyPath:[],treeNodePath:[],treeNode:l};if(null==l?void 0:l.ignored)return i.treeNode=null,i;for(;l;)l.ignored||!t&&l.isGroup||i.treeNodePath.push(l),l=l.parent;return i.treeNodePath.reverse(),n||i.treeNodePath.pop(),i.keyPath=i.treeNodePath.map((e=>e.key)),i}(e,t,p),getCheckedKeys(e,t={}){const{cascade:n=!0,leafOnly:r=!1,checkStrategy:o="all",allowNotLoaded:a=!1}=t;return ln({checkedKeys:Zt(e),indeterminateKeys:Jt(e),cascade:n,leafOnly:r,checkStrategy:o,allowNotLoaded:a},p)},check(e,t,n={}){const{cascade:r=!0,leafOnly:o=!1,checkStrategy:a="all",allowNotLoaded:l=!1}=n;return ln({checkedKeys:Zt(t),indeterminateKeys:Jt(t),keysToCheck:null==e?[]:Yt(e),cascade:r,leafOnly:o,checkStrategy:a,allowNotLoaded:l},p)},uncheck(e,t,n={}){const{cascade:r=!0,leafOnly:o=!1,checkStrategy:a="all",allowNotLoaded:l=!1}=n;return ln({checkedKeys:Zt(t),indeterminateKeys:Jt(t),keysToUncheck:null==e?[]:Yt(e),cascade:r,leafOnly:o,checkStrategy:a,allowNotLoaded:l},p)},getNonLeafKeys:(e={})=>function(e,t={}){const{preserveGroup:n=!1}=t,r=[],o=n?e=>{e.isLeaf||(r.push(e.key),a(e.children))}:e=>{e.isLeaf||(e.isGroup||r.push(e.key),a(e.children))};function a(e){e.forEach(o)}return a(e),r}(f,e)};return p}const gn={top:"bottom",bottom:"top",left:"right",right:"left"},bn="var(--n-arrow-height) * 1.414";var yn,mn,wn=q([Q("popover","\n transition:\n box-shadow .3s var(--n-bezier),\n background-color .3s var(--n-bezier),\n color .3s var(--n-bezier);\n position: relative;\n font-size: var(--n-font-size);\n color: var(--n-text-color);\n box-shadow: var(--n-box-shadow);\n word-break: break-word;\n ",[q(">",[Q("scrollbar","\n height: inherit;\n max-height: inherit;\n ")]),Z("raw","\n background-color: var(--n-color);\n border-radius: var(--n-border-radius);\n ",[Z("scrollable",[Z("show-header-or-footer","padding: var(--n-padding);")])]),J("header","\n padding: var(--n-padding);\n border-bottom: 1px solid var(--n-divider-color);\n transition: border-color .3s var(--n-bezier);\n "),J("footer","\n padding: var(--n-padding);\n border-top: 1px solid var(--n-divider-color);\n transition: border-color .3s var(--n-bezier);\n "),ee("scrollable, show-header-or-footer",[J("content","\n padding: var(--n-padding);\n ")])]),Q("popover-shared","\n transform-origin: inherit;\n ",[Q("popover-arrow-wrapper","\n position: absolute;\n overflow: hidden;\n pointer-events: none;\n ",[Q("popover-arrow",`\n transition: background-color .3s var(--n-bezier);\n position: absolute;\n display: block;\n width: calc(${bn});\n height: calc(${bn});\n box-shadow: 0 0 8px 0 rgba(0, 0, 0, .12);\n transform: rotate(45deg);\n background-color: var(--n-color);\n pointer-events: all;\n `)]),q("&.popover-transition-enter-from, &.popover-transition-leave-to","\n opacity: 0;\n transform: scale(.85);\n "),q("&.popover-transition-enter-to, &.popover-transition-leave-from","\n transform: scale(1);\n opacity: 1;\n "),q("&.popover-transition-enter-active","\n transition:\n box-shadow .3s var(--n-bezier),\n background-color .3s var(--n-bezier),\n color .3s var(--n-bezier),\n opacity .15s var(--n-bezier-ease-out),\n transform .15s var(--n-bezier-ease-out);\n "),q("&.popover-transition-leave-active","\n transition:\n box-shadow .3s var(--n-bezier),\n background-color .3s var(--n-bezier),\n color .3s var(--n-bezier),\n opacity .15s var(--n-bezier-ease-in),\n transform .15s var(--n-bezier-ease-in);\n ")]),xn("top-start",`\n top: calc(${bn} / -2);\n left: calc(${$n("top-start")} - var(--v-offset-left));\n `),xn("top",`\n top: calc(${bn} / -2);\n transform: translateX(calc(${bn} / -2)) rotate(45deg);\n left: 50%;\n `),xn("top-end",`\n top: calc(${bn} / -2);\n right: calc(${$n("top-end")} + var(--v-offset-left));\n `),xn("bottom-start",`\n bottom: calc(${bn} / -2);\n left: calc(${$n("bottom-start")} - var(--v-offset-left));\n `),xn("bottom",`\n bottom: calc(${bn} / -2);\n transform: translateX(calc(${bn} / -2)) rotate(45deg);\n left: 50%;\n `),xn("bottom-end",`\n bottom: calc(${bn} / -2);\n right: calc(${$n("bottom-end")} + var(--v-offset-left));\n `),xn("left-start",`\n left: calc(${bn} / -2);\n top: calc(${$n("left-start")} - var(--v-offset-top));\n `),xn("left",`\n left: calc(${bn} / -2);\n transform: translateY(calc(${bn} / -2)) rotate(45deg);\n top: 50%;\n `),xn("left-end",`\n left: calc(${bn} / -2);\n bottom: calc(${$n("left-end")} + var(--v-offset-top));\n `),xn("right-start",`\n right: calc(${bn} / -2);\n top: calc(${$n("right-start")} - var(--v-offset-top));\n `),xn("right",`\n right: calc(${bn} / -2);\n transform: translateY(calc(${bn} / -2)) rotate(45deg);\n top: 50%;\n `),xn("right-end",`\n right: calc(${bn} / -2);\n bottom: calc(${$n("right-end")} + var(--v-offset-top));\n `),...(yn={top:["right-start","left-start"],right:["top-end","bottom-end"],bottom:["right-end","left-end"],left:["top-start","bottom-start"]},mn=(e,t)=>{const n=["right","left"].includes(t),r=n?"width":"height";return e.map((e=>{const o="end"===e.split("-")[1],a=`calc((var(--v-target-${r}, 0px) - ${bn}) / 2)`,l=$n(e);return q(`[v-placement="${e}"] >`,[Q("popover-shared",[ee("center-arrow",[Q("popover-arrow",`${t}: calc(max(${a}, ${l}) ${o?"+":"-"} var(--v-offset-${n?"left":"top"}));`)])])])}))},(B(yn)?U:Xt)(yn,It(mn)))]);function $n(e){return["top","bottom"].includes(e.split("-")[0])?"var(--n-arrow-offset)":"var(--n-arrow-offset-vertical)"}function xn(e,t){const n=e.split("-")[0],r=["top","bottom"].includes(n)?"height: var(--n-space-arrow);":"width: var(--n-space-arrow);";return q(`[v-placement="${e}"] >`,[Q("popover-shared",`\n margin-${gn[n]}: var(--n-space);\n `,[ee("show-arrow",`\n margin-${gn[n]}: var(--n-space-arrow);\n `),ee("overlap","\n margin: 0;\n "),te("popover-arrow-wrapper",`\n right: 0;\n left: 0;\n top: 0;\n bottom: 0;\n ${n}: 100%;\n ${gn[n]}: auto;\n ${r}\n `,[Q("popover-arrow",t)])])])}const kn=Object.assign(Object.assign({},re.props),{to:Le.propTo,show:Boolean,trigger:String,showArrow:Boolean,delay:Number,duration:Number,raw:Boolean,arrowPointToCenter:Boolean,arrowStyle:[String,Object],displayDirective:String,x:Number,y:Number,flip:Boolean,overlap:Boolean,placement:String,width:[Number,String],keepAliveOnHover:Boolean,scrollable:Boolean,contentStyle:[Object,String],headerStyle:[Object,String],footerStyle:[Object,String],internalDeactivateImmediately:Boolean,animated:Boolean,onClickoutside:Function,internalTrapFocus:Boolean,internalOnAfterLeave:Function,minWidth:Number,maxWidth:Number}),Sn=({arrowStyle:e,clsPrefix:t})=>S("div",{key:"__popover-arrow__",class:`${t}-popover-arrow-wrapper`},S("div",{class:`${t}-popover-arrow`,style:e}));var Mn=p({name:"PopoverBody",inheritAttrs:!1,props:kn,setup(e,{slots:n,attrs:a}){const{namespaceRef:c,mergedClsPrefixRef:f,inlineThemeDisabled:h}=ne(e),p=re("Popover","-popover",wn,ie,e,f),g=d(null),b=l("NPopover"),m=d(null),w=d(e.show),$=d(!1);oe((()=>{const{show:t}=e;!t||(void 0===Be&&(Be=navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),Be)||e.internalDeactivateImmediately||($.value=!0)}));const k=o((()=>{const{trigger:t,onClickoutside:n}=e,r=[],{positionManuallyRef:{value:o}}=b;return o||("click"!==t||n||r.push([se,C,void 0,{capture:!0}]),"hover"===t&&r.push([Ge,z])),n&&r.push([se,C,void 0,{capture:!0}]),("show"===e.displayDirective||e.animated&&$.value)&&r.push([ue,e.show]),r})),M=o((()=>{const t="trigger"===e.width?void 0:Ne(e.width),n=[];t&&n.push({width:t});const{maxWidth:r,minWidth:o}=e;return r&&n.push({maxWidth:Ne(r)}),o&&n.push({maxWidth:Ne(o)}),h||n.push(A.value),n})),A=o((()=>{const{common:{cubicBezierEaseInOut:e,cubicBezierEaseIn:t,cubicBezierEaseOut:n},self:{space:r,spaceArrow:o,padding:a,fontSize:l,textColor:i,dividerColor:s,color:u,boxShadow:d,borderRadius:c,arrowHeight:f,arrowOffset:h,arrowOffsetVertical:v}}=p.value;return{"--n-box-shadow":d,"--n-bezier":e,"--n-bezier-ease-in":t,"--n-bezier-ease-out":n,"--n-font-size":l,"--n-text-color":i,"--n-color":u,"--n-divider-color":s,"--n-border-radius":c,"--n-arrow-height":f,"--n-arrow-offset":h,"--n-arrow-offset-vertical":v,"--n-padding":a,"--n-space":r,"--n-space-arrow":o}})),N=h?ae("popover",void 0,A,e):void 0;function B(t){"hover"===e.trigger&&e.keepAliveOnHover&&e.show&&b.handleMouseEnter(t)}function E(t){"hover"===e.trigger&&e.keepAliveOnHover&&b.handleMouseLeave(t)}function z(t){"hover"!==e.trigger||O().contains(de(t))||b.handleMouseMoveOutside(t)}function C(t){("click"===e.trigger&&!O().contains(de(t))||e.onClickoutside)&&b.handleClickOutside(t)}function O(){return b.getTriggerElement()}return b.setBodyInstance({syncPosition:function(){var e;null===(e=g.value)||void 0===e||e.syncPosition()}}),t((()=>{b.setBodyInstance(null)})),r(x(e,"show"),(t=>{e.animated||(w.value=!!t)})),v(u,m),v(s,null),v(i,null),{displayed:$,namespace:c,isMounted:b.isMountedRef,zIndex:b.zIndexRef,followerRef:g,adjustedTo:Le(e),followerEnabled:w,renderContentNode:function(){if(null==N||N.onRender(),!("show"===e.displayDirective||e.show||e.animated&&$.value))return null;let t;const r=b.internalRenderBodyRef.value,{value:o}=f;if(r)t=r([`${o}-popover-shared`,null==N?void 0:N.themeClass.value,e.overlap&&`${o}-popover-shared--overlap`,e.showArrow&&`${o}-popover-shared--show-arrow`,e.arrowPointToCenter&&`${o}-popover-shared--center-arrow`],m,M.value,B,E);else{const{value:r}=b.extraClassRef,{internalTrapFocus:l}=e,i=!ce(n.header)||!ce(n.footer),s=()=>{var t;const r=i?S(ve,null,pe(n.header,(t=>t?S("div",{class:`${o}-popover__header`,style:e.headerStyle},t):null)),pe(n.default,(t=>t?S("div",{class:`${o}-popover__content`,style:e.contentStyle},n):null)),pe(n.footer,(t=>t?S("div",{class:`${o}-popover__footer`,style:e.footerStyle},t):null))):e.scrollable?null===(t=n.default)||void 0===t?void 0:t.call(n):S("div",{class:`${o}-popover__content`,style:e.contentStyle},n);return[e.scrollable?S(ge,{contentClass:i?void 0:`${o}-popover__content`,contentStyle:i?void 0:e.contentStyle},{default:()=>r}):r,e.showArrow?Sn({arrowStyle:e.arrowStyle,clsPrefix:o}):null]};t=S("div",he({class:[`${o}-popover`,`${o}-popover-shared`,null==N?void 0:N.themeClass.value,r.map((e=>`${o}-${e}`)),{[`${o}-popover--scrollable`]:e.scrollable,[`${o}-popover--show-header-or-footer`]:i,[`${o}-popover--raw`]:e.raw,[`${o}-popover-shared--overlap`]:e.overlap,[`${o}-popover-shared--show-arrow`]:e.showArrow,[`${o}-popover-shared--center-arrow`]:e.arrowPointToCenter}],ref:m,style:M.value,onKeydown:b.handleKeydown,onMouseenter:B,onMouseleave:E},a),l?S(fe,{active:e.show,autoFocus:!0},{default:s}):s())}return y(t,k.value)}}},render(){return S(ot,{ref:"followerRef",zIndex:this.zIndex,show:this.show,enabled:this.followerEnabled,to:this.adjustedTo,x:this.x,y:this.y,flip:this.flip,placement:this.placement,containerClass:this.namespace,overlap:this.overlap,width:"trigger"===this.width?"target":void 0,teleportDisabled:this.adjustedTo===Le.tdkey},{default:()=>this.animated?S(le,{name:"popover-transition",appear:this.isMounted,onEnter:()=>{this.followerEnabled=!0},onAfterLeave:()=>{var e;null===(e=this.internalOnAfterLeave)||void 0===e||e.call(this),this.followerEnabled=!1,this.displayed=!1}},{default:this.renderContentNode}):this.renderContentNode()})}});const An=Object.keys(kn),Nn={focus:["onFocus","onBlur"],click:["onClick"],hover:["onMouseenter","onMouseleave"],manual:[],nested:["onFocus","onBlur","onMouseenter","onMouseleave","onClick"]};const Bn=we("").type,En={show:{type:Boolean,default:void 0},defaultShow:Boolean,showArrow:{type:Boolean,default:!0},trigger:{type:String,default:"hover"},delay:{type:Number,default:100},duration:{type:Number,default:100},raw:Boolean,placement:{type:String,default:"top"},x:Number,y:Number,arrowPointToCenter:Boolean,disabled:Boolean,getDisabled:Function,displayDirective:{type:String,default:"if"},arrowStyle:[String,Object],flip:{type:Boolean,default:!0},animated:{type:Boolean,default:!0},width:{type:[Number,String],default:void 0},overlap:Boolean,keepAliveOnHover:{type:Boolean,default:!0},zIndex:Number,to:Le.propTo,scrollable:Boolean,contentStyle:[Object,String],headerStyle:[Object,String],footerStyle:[Object,String],onClickoutside:Function,"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],internalDeactivateImmediately:Boolean,internalSyncTargetWithParent:Boolean,internalInheritedEventHandlers:{type:Array,default:()=>[]},internalTrapFocus:Boolean,internalExtraClass:{type:Array,default:()=>[]},onShow:[Function,Array],onHide:[Function,Array],arrow:{type:Boolean,default:void 0},minWidth:Number,maxWidth:Number};var zn=p({name:"Popover",inheritAttrs:!1,props:Object.assign(Object.assign(Object.assign({},re.props),En),{internalOnAfterLeave:Function,internalRenderBody:Function}),__popover__:!0,setup(e){const t=k(),n=d(null),r=o((()=>e.show)),a=d(e.defaultShow),l=je(r,a),i=h((()=>!e.disabled&&l.value)),s=()=>{if(e.disabled)return!0;const{getDisabled:t}=e;return!!(null==t?void 0:t())},u=()=>!s()&&l.value,c=Te(e,["arrow","showArrow"]),f=o((()=>!e.overlap&&c.value));let p=null;const g=d(null),b=d(null),y=h((()=>void 0!==e.x&&void 0!==e.y));function m(t){const{"onUpdate:show":n,onUpdateShow:r,onShow:o,onHide:l}=e;a.value=t,n&&$e(n,t),r&&$e(r,t),t&&o&&$e(o,!0),t&&l&&$e(l,!1)}function w(){const{value:e}=g;e&&(window.clearTimeout(e),g.value=null)}function $(){const{value:e}=b;e&&(window.clearTimeout(e),b.value=null)}function S(){const t=s();if("hover"===e.trigger&&!t){if($(),null!==g.value)return;if(u())return;const t=()=>{m(!0),g.value=null},{delay:n}=e;0===n?t():g.value=window.setTimeout(t,n)}}function M(){const t=s();if("hover"===e.trigger&&!t){if(w(),null!==b.value)return;if(!u())return;const t=()=>{m(!1),b.value=null},{duration:n}=e;0===n?t():b.value=window.setTimeout(t,n)}}return v("NPopover",{getTriggerElement:function(){var e;return null===(e=n.value)||void 0===e?void 0:e.targetRef},handleKeydown:function(t){e.internalTrapFocus&&"Escape"===t.key&&(w(),$(),m(!1))},handleMouseEnter:S,handleMouseLeave:M,handleClickOutside:function(t){var n;u()&&("click"===e.trigger&&(w(),$(),m(!1)),null===(n=e.onClickoutside)||void 0===n||n.call(e,t))},handleMouseMoveOutside:function(){M()},setBodyInstance:function(e){p=e},positionManuallyRef:y,isMountedRef:t,zIndexRef:x(e,"zIndex"),extraClassRef:x(e,"internalExtraClass"),internalRenderBodyRef:x(e,"internalRenderBody")}),oe((()=>{l.value&&s()&&m(!1)})),{binderInstRef:n,positionManually:y,mergedShowConsideringDisabledProp:i,uncontrolledShow:a,mergedShowArrow:f,getMergedShow:u,setShow:function(e){a.value=e},handleClick:function(){if("click"===e.trigger&&!s()){w(),$();m(!u())}},handleMouseEnter:S,handleMouseLeave:M,handleFocus:function(){const t=s();if("focus"===e.trigger&&!t){if(u())return;m(!0)}},handleBlur:function(){const t=s();if("focus"===e.trigger&&!t){if(!u())return;m(!1)}},syncPosition:function(){p&&p.syncPosition()}}},render(){var e;const{positionManually:t,$slots:n}=this;let r,o=!1;if(!t&&(r=n.activator?be(n,"activator"):be(n,"trigger"),r)){r=ye(r),r=r.type===Bn?S("span",[r]):r;const n={onClick:this.handleClick,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onFocus:this.handleFocus,onBlur:this.handleBlur};if(null===(e=r.type)||void 0===e?void 0:e.__popover__)o=!0,r.props||(r.props={internalSyncTargetWithParent:!0,internalInheritedEventHandlers:[]}),r.props.internalSyncTargetWithParent=!0,r.props.internalInheritedEventHandlers?r.props.internalInheritedEventHandlers=[n,...r.props.internalInheritedEventHandlers]:r.props.internalInheritedEventHandlers=[n];else{const{internalInheritedEventHandlers:e}=this,o=[n,...e],s={onBlur:e=>{o.forEach((t=>{t.onBlur(e)}))},onFocus:e=>{o.forEach((t=>{t.onFocus(e)}))},onClick:e=>{o.forEach((t=>{t.onClick(e)}))},onMouseenter:e=>{o.forEach((t=>{t.onMouseenter(e)}))},onMouseleave:e=>{o.forEach((t=>{t.onMouseleave(e)}))}};a=r,l=e?"nested":t?"manual":this.trigger,i=s,Nn[l].forEach((e=>{a.props?a.props=Object.assign({},a.props):a.props={};const t=a.props[e],n=i[e];a.props[e]=t?(...e)=>{t(...e),n(...e)}:n}))}}var a,l,i;return S(We,{ref:"binderInstRef",syncTarget:!o,syncTargetWithParent:this.internalSyncTargetWithParent},{default:()=>{this.mergedShowConsideringDisabledProp;const e=this.getMergedShow();return[this.internalTrapFocus&&e?y(S("div",{style:{position:"fixed",inset:0}}),[[M,{enabled:e,zIndex:this.zIndex}]]):null,t?null:S(Xe,null,{default:()=>r}),S(Mn,me(this.$props,An,Object.assign(Object.assign({},this.$attrs),{showArrow:this.mergedShowArrow,show:e})),{default:()=>{var e,t;return null===(t=(e=this.$slots).default)||void 0===t?void 0:t.call(e)},header:()=>{var e,t;return null===(t=(e=this.$slots).header)||void 0===t?void 0:t.call(e)},footer:()=>{var e,t;return null===(t=(e=this.$slots).footer)||void 0===t?void 0:t.call(e)}})]}})}});export{zn as N,We as V,He as a,Pe as b,Ve as c,rn as d,vn as e,Ne as f,mt as g,ke as h,_e as i,Se as j,Te as k,Le as l,Xe as m,ot as n,En as p,Sn as r,je as u};
